<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
	<title>renshuu forms</title>
	<meta name="viewport" content="initial-scale=1.0, user-scalable=no" />
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<link rel="icon" type="image/ico" href="favicon.ico" />
	<link rel="shortcut icon" type="image/x-icon" href="favicon.ico" />
	<link type="text/css" href="css/main.css" rel="stylesheet" />
	<link type="text/css" href="css/autoSuggest.css" rel="stylesheet" />
	<link type="text/css" href="css/jquery.clockpick.1.2.7.css" rel="stylesheet" />
	<link type="text/css" href="css/ui.timepickr.css" rel="stylesheet" />

	<script type="text/javascript" src="http://maps.google.com/maps/api/js?v=3.1&amp;sensor=false&amp;language=ja"></script>

	<script type="text/javascript" src="js/jquery.js"></script>
	<script type="text/javascript" src="js/jquery.ui.core.js"></script>
	<script type="text/javascript" src="js/jquery.ui.widget.js"></script>
	<script type="text/javascript" src="js/jquery.ui.tabs.js"></script>

	<script type="text/javascript" src="js/jquery.timepicker.js"></script>
	<script type="text/javascript" src="js/jquery.clockpick.1.2.7.js"></script>

	<script type="text/javascript" src="js/ui.timepickr.js"></script>

	<script type="text/javascript" src="js/jquery.inputnotes-0.6.js"></script>

	<script type="text/javascript" src="js/jquery.cookie.js"></script>

	<script type="text/javascript" src="js/jquery.json-2.2.js"></script>
	<script type="text/javascript" src="js/jstorage.js"></script>

	<script type="text/javascript" src="js/jquery.curvycorners.js"></script>
	<script type="text/javascript" src="js/jquery.autoSuggest.js"></script>

	<script type="text/javascript" src="js/jquery.simplemodal-1.3.5.js"></script>

	<script type="text/javascript" src="js/jquery.ba-hashchange.js"></script>

	<!--
	<script type="text/javascript" src="js/renshuusurutoki.js"></script>
	-->

	<script type="text/javascript">


		function createLocation() {
			$('<div></div>').html('Select a position from the map by clicking it.').dialog({
				title: "Create a new location",
				width: 400,
				height: 300,
				buttons: {
					"Ok": function() {
						var location = {
							latitude: lat,
							longitude: lng
						};
						$.post(ajaxpoint.set + 'location', location, function(data, status) {
							$(this).dialog("close");
						}, 'json');
					}
				}
			});
		}

		/**
		* @param target The select element as jQuery object
		* @param type String defining the type of the data to be fetched
		*/
		function loadOptions(target, type) {
			var append = '';
			$.get(ajaxpoint.get + type, {}, function(data, status) {
				var len = data.response.length;
				for (var i = 0; i < len; ++i) {
					var item = data.response[i];
					append += '<' + 'option value="' + item.id + '">' + item.title + '<' + '/option>';
				}
				target.children('option').replace(append);
			});
		}




		$(document).ready(function() {

			$('input[name=location]').autoSuggest(
				'http://192.168.1.37:7781/ajax/get/location', {
					startText: 'Type a location name',
					selectedItemProp: 'id',
					searchObjProps: 'title'
				}
			);
			$('input[name=art]').autoSuggest(
				'http://192.168.1.37:7781/ajax/get/art', {
					minChars: 2, 
					matchCase: false,
					startText: 'Type an art name',
					selectedItemProp: 'title',
					
					selectedValuesProp: 'id',
					searchObjProps: 'title',
					queryParam: '/',
					selectionLimit: 2,
					//selectionClick: function(elem){ elem.fadeTo("slow", 0.33); },
					//selectionAdded: function(elem){ elem.fadeTo("slow", 0.33); },
					//selectionRemoved: function(elem){ elem.fadeTo("fast", 0, function(){ elem.remove(); }); },
					resultClick: function(data){
						for (var i in data.attributes) {
							console.log('resultClick - ' + i + ' = ' + data.attributes[i]);
						}
					},
					retrieveComplete: function(data){
						for (var i in data.attributes) {
							console.log('retrieveComplete - ' + i + ' = ' + data.attributes[i]);
						}
					}
				}
			);

			$('input[name=title]').inputNotes({
				minlength: {
					pattern: /^(.){0,3}$/i,
					type: 'warning',
					text: 'Minimum title length is 4 characters.'
				}
			});
			$('input[name=uri]').inputNotes({
				minlength: {
					pattern: /^(.){0,3}$/i,
					type: 'warning',
					text: 'Minimum URL length is 4 characters.'
				}
			});
			$('#profile_form input[name=password]').inputNotes({
				config: {
					notePosition: 'before'
				},

				minlength: {
					pattern: /^(.){0,5}$/i,
					type: 'info',
					text: 'Minimum password length is 6 characters.'
				},
				characters: {
					pattern: /[^a-z0-9]/i,
					type: 'warning',
					text: 'Please only alphanumeric characters.'
				},
				alphaandnum: {
					pattern: /(^[a-z]+$)|(^[0-9]+$)/i,
					type: 'warning',
					text: 'Please use both, letters and numbers.'
				},
				bigandsmall: {
					pattern: /(^[a-z0-9]{2,}$)|(^[A-Z0-9]{2,}$)/,
					type: 'warning',
					text: 'Please use both, small and capitalized letters.'
				}
			});


		});
	</script>
</head>
<body>
	<div id="wrap" class="round">

		<div id="right">

			<div id="forms">
				<div class="header qr_forms">
					<p><a href="#" rel="forms">Forms</a><span></span></p>
				</div>
				<div class="content">
					<div class="stuff">

						<form id="location_form" action="/" method="post">
							<fieldset>
								<legend>Location</legend>
								<p><label><span>Title:</span><input type="text" name="title" /></label></p>
								<p><label><span>URI:</span><input type="text" name="uri" /></label></p>
								<p><label><span>Info:</span><input type="text" name="info" /></label></p>
								<p><label><span>Address(if any):</span><input type="text" name="address" /></label></p>
								<p><label><span>Auto fill:</span><input type="checkbox" name="addr_autofill" /> (address from map position)</label></p>
								<p><label><span>Latitude:</span><input type="text" name="latitude" disabled="disabled" /></label></p>
								<p><label><span>Longitude:</span><input type="text" name="longitude" disabled="disabled" /></label></p>
								<p>
									<input type="button" name="send" value="Send location" class="button" />
									<input type="button" name="close" value="Close" class="modal_close" />
								</p>
							</fieldset>
						</form>
						<form id="person_form" action="/" method="post">
							<fieldset>
								<legend>Person</legend>
								<p><label><span>Name:</span><input type="text" name="title" /></label></p>
								<p><label><span>Art:</span><input type="text" name="art" /></label></p>
								<p><label><span>Contact:</span><input type="text" name="contact" /></label></p>
								<p><label><span>Info:</span><input type="text" name="info" /></label></p>
								<p>
									<input type="button" name="send" value="Send person" />
									<input type="button" name="close" value="Close" class="modal_close" />
								</p>
							</fieldset>
						</form>
						<form id="art_form" action="/" method="post">
							<fieldset>
								<legend>Art</legend>
								<p><label><span>Name:</span><input type="text" name="title" /></label></p>
								<p><label><span>URI:</span><input type="text" name="uri" /></label></p>
								<p>
									<input type="button" name="send" value="Send art" />
									<input type="button" name="close" value="Close" class="modal_close" />
								</p>
							</fieldset>
						</form>
						<form id="training_form" action="/" method="post">
							<fieldset>
								<legend>Training</legend>
								<p><label><span>Title:</span><input type="text" name="title" /></label></p>
								<p><label><span>Location:</span><input type="text" name="location" /></label></p>
								<p><label><span>Weekday:</span><select name="weekday"></select></label></p>
								<p><label><span>Occurance:</span><input type="text" name="occurance" /></label></p>
								<p><label><span>Start time:</span><input type="text" name="starttime" class="short" /></label></p>
								<p><label><span>End time:</span><input type="text" name="endtime" class="short" /></label></p>
								<p><label><span>Duration (minutes):</span><input type="text" name="duration" class="short" /></label></p>
								<p><label><span>Art:</span><select name="art"></select></label></p>
								<p>
									<input type="button" name="send" value="Send training" />
									<input type="button" name="close" value="Close" class="modal_close" />
								</p>
							</fieldset>
						</form>
						<form id="login_form" action="/" method="post">
							<fieldset>
								<legend>Login</legend>
								<p><label><span>E-mail:</span><input type="text" name="email" /></label></p>
								<p><label><span>Password:</span><input type="text" name="password" /></label></p>
								<p><label><span>How much is 2 + 3:</span><input type="text" name="answer" class="short" /> (making sure you are a real person)</label></p>
								<p>
									<input type="button" name="send" value="Send login" />
									<input type="button" name="close" value="Close" class="modal_close" />
								</p>
							</fieldset>
						</form>
						<form id="profile_form" action="/" method="post">
							<fieldset>
								<legend>Profile</legend>
								<p>E-mail address will be used as your login id.</p>
								<p><label><span>E-mail:</span><input type="text" name="email" /></label></p>
								<p><label><span>Full name:</span><input type="text" name="title" /></label></p>
								<p><label><span>Password:</span><input type="text" name="password" /></label></p>
								<p><label><span>How much is 5 - 3:</span><input type="text" name="answer" class="short" /> (making sure you are a real person)</label></p>
								<p>
									<input type="button" name="send" value="Send login" />
									<input type="button" name="close" value="Close" class="modal_close" />
								</p>
							</fieldset>
						</form>

					</div>
				</div>
			</div>

		</div>

	</div>


	<div class="modal-info vevent">
		<h2 class="summary" rel="art-0"><a href="#training-0" class="modal-close uid">琉球古武術保存振興会</a></h2>
		<p class="modal-time" rel="training-0">Wednesday<span class="dtstart">19:30</span>-<span class="dtend">21:00</span></p>
		<p class="modal-contact" rel="person-0">Inoue Kisho</p>
		<p class="modal-location" rel="location-0">姫路武道館
			<a href="http://elsewhere.com" title="姫路武道館">http://elsewhere.com</a>
		</p>
		<address class="geo">兵庫県姫路市田寺1-1-15
			<span>
				<abbr class="latitude" title="34.854153"></abbr>
				<abbr class="longitude" title="134.671639"></abbr>
			</span>
		</address>
		<p class="modal-tools"><a href="#" title="Save to list">Save to list</a></p>
	</div>
</body>
</html>
